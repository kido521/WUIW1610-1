<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <form action="/search" method="get">
        <input type="search" name="s" placeholder="请输入搜素内容">
        <input type="submit" value="提交">
        <ul class="list"></ul>
    </form>
    <script>
        var search=document.querySelector('input[type="search"]');
        var btn=document.querySelector('input[type="submit"]');
        var ul=document.querySelector('.list');
        search.onblur=function () {
            var v=search.value;
            if(v.length==0){
                alert("请输入内容");
            }
            var xhr=new XMLHttpRequest();
            xhr.open("get",'/search?s='+v);
            xhr.send();
            xhr.onreadystatechange=function(){
                if(xhr.readyState==4){
                    if(xhr.status==200||xml.status==304){
                        var data=JSON.parse(xhr.response);
//                        console.log(data);
                        var str='';
                        data.forEach(function (val,index) {
                            str=val;console.log(str);
                            var li=document.createElement('li');
                            console.log(li)
                            li.innerHTML=str;
                            ul.appendChild(li);
                        });
                    }else if(xhr.status==404){
                        error('错误');
                    }
                }
            }
        }
    </script>
</body>
</html>